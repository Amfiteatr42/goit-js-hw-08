{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,kBACpCE,EAAeH,SAASC,cAAc,oBACtCG,EAAc,GAGhBC,aAAaC,QAFG,yBAGlBJ,EAAWK,MAAQC,KAAKC,MAAMJ,aAAaC,QAHzB,wBAG+CI,MACjEP,EAAaI,MAAQC,KAAKC,MAAMJ,aAAaC,QAJ3B,wBAIiDK,SAGrEZ,EAAKa,iBAAiB,QAASC,EAAAhB,EAAA,EAE/B,SAAqBiB,GACF,IAAIC,SAAShB,GACrBiB,SAAQ,CAACT,EAAOU,KACvBb,EAAYa,GAAQV,GAEpB,EAAAW,EAAAC,MAdgB,sBAcEf,QAP+B,MAYrDL,EAAKa,iBAAiB,UAEtB,SAAsBE,GACpBA,EAAEM,iBACFf,aAAagB,WAvBK,uBAwBlBP,EAAEQ,cAAcC","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\nimport { save, load } from './utilities.js';\n\nconst form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('[name=\"email\"]');\nconst inputMessage = document.querySelector('[name=\"message\"]');\nconst inputValues = {};\nconst STORAGE_KEY = 'feedback-form-state';\n\nif (localStorage.getItem(STORAGE_KEY)) {\n  inputEmail.value = JSON.parse(localStorage.getItem(STORAGE_KEY)).email;\n  inputMessage.value = JSON.parse(localStorage.getItem(STORAGE_KEY)).message;\n}\n\nform.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormInput(e) {\n  const formData = new FormData(form);\n  formData.forEach((value, name) => {\n    inputValues[name] = value;\n\n    save(STORAGE_KEY, inputValues);\n  });\n  // or: someObject[e.target.name] = e.target.value //\n}\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputEmail","$945622fd0f572e60$var$inputMessage","$945622fd0f572e60$var$inputValues","localStorage","getItem","value","JSON","parse","email","message","addEventListener","$parcel$interopDefault","e","FormData","forEach","name","$3qFPV","save","preventDefault","removeItem","currentTarget","reset"],"version":3,"file":"03-feedback.3e770581.js.map"}