{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,kBACpCE,EAAeH,SAASC,cAAc,oBACtCG,EAAc,GACdC,EAAc,uBAEhB,EAAAC,EAAAC,MAAKF,KACPH,EAAWM,OAAQ,EAAAF,EAAAC,MAAKF,GAAaI,MACrCN,EAAaK,OAAQ,EAAAF,EAAAC,MAAKF,GAAaK,SAGzCX,EAAKY,iBAAiB,QAASC,EAAAf,EAAA,EAE/B,SAAqBgB,GACF,IAAIC,SAASf,GACrBgB,SAAQ,SAACP,EAAOQ,GACvBZ,EAAYY,GAAQR,GAEpB,EAAAF,EAAAW,MAAKZ,EAAaD,QAP+B,MAYrDL,EAAKY,iBAAiB,UAEtB,SAAsBE,GACpBA,EAAEK,kBACE,EAAAZ,EAAAC,MAAKF,IAAcc,QAAQC,KAAI,EAAAd,EAAAC,MAAKF,IACxCgB,aAAaC,WAAWjB,GACxBQ,EAAEU,cAAcC,W","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\nimport { save, load } from './utilities.js';\n\nconst form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('[name=\"email\"]');\nconst inputMessage = document.querySelector('[name=\"message\"]');\nconst inputValues = {};\nconst STORAGE_KEY = 'feedback-form-state';\n\nif (load(STORAGE_KEY)) {\n  inputEmail.value = load(STORAGE_KEY).email;\n  inputMessage.value = load(STORAGE_KEY).message;\n  // can use form.elements.email.value to reach inputEmail.value\n}\nform.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormInput(e) {\n  const formData = new FormData(form);\n  formData.forEach((value, name) => {\n    inputValues[name] = value;\n\n    save(STORAGE_KEY, inputValues);\n  });\n  // or: someObject[e.target.name] = e.target.value //\n}\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  if (load(STORAGE_KEY)) console.log(load(STORAGE_KEY));\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$inputEmail","$b00c40859be242c5$var$inputMessage","$b00c40859be242c5$var$inputValues","$b00c40859be242c5$var$STORAGE_KEY","$8NWP6","load","value","email","message","addEventListener","$parcel$interopDefault","e","FormData","forEach","name","save","preventDefault","console","log","localStorage","removeItem","currentTarget","reset"],"version":3,"file":"03-feedback.9dc04594.js.map"}